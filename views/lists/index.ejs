<% layout('layouts/boilerplate') %>

<h1 class="text-center">All Lists</h1>
<div class="col-md-12">
    <div class="row">
        <% for (const list of lists) { %>
            <div class="col-md-5 ms-auto">
                <div class="card mb-3">
                    <div class="card-body py-0">
                        <div class="d-flex justify-content-between">
                            <h4 class="card-title mt-3 text-center"><%= list.title %></h4>
                            <p class="text-muted mt-auto">Updated ....</p>
                        </div>
                        <ul class="list-group mb-3">
                            <% for (const [i, item] of list.items.entries()) { %> 
                                <% if (i > 2) break %>
                                <li class="list-group-item">- <%= item.description %></li>
                                <% } %>
                        </ul>
                        <a href="/lists/<%= list._id %>" class="btn btn-primary mb-3">View</a>
                    </div>
                </div>
            </div>
            <% } %>
    </div>
</div>

<a href="/lists/new">New List</a>
